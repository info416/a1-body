---
import BaseLayout from './BaseLayout.astro';
export interface Props {
    title: string;
}
const { title } = Astro.props;
---
<BaseLayout title={title}>
    <style>
        .emaki-container {
            max-width: 720px; /* 思考に集中できる、最適な幅 */
            margin: 0 auto;
            padding: 4rem 1rem;
        }
        .emaki-part {
            opacity: 0; /* 初期状態では、魂は隠されている */
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .emaki-part.is-visible {
            opacity: 1; /* 視界に入った時、魂は静かに姿を現す */
            transform: translateY(0);
        }
        .emaki-part + .emaki-part {
            margin-top: 5rem; /* パート間の「間」が、静謐を生む */
        }
        /* WYSIWYGエディタ風の美しいテキストスタイル */
        .prose {
            font-size: 1.125rem;
            line-height: 1.75;
            color: var(--color-text-sub);
        }
        .prose h2 {
            font-size: 1.875rem;
            font-weight: 700;
            color: var(--color-text-main);
            margin-top: 2.5em;
            margin-bottom: 1em;
        }
        .prose p {
            margin-bottom: 1.25em;
        }
        .prose strong {
            color: var(--color-text-main);
        }
    </style>
    <div class="emaki-container">
        <h1 class="page-title mb-12 text-center">{title}</h1>
        <slot />
    </div>
    <script is:inline>
        // 魂を監視する「神の目」
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    observer.unobserve(entry.target); // 一度現れた魂は、隠れない
                }
            });
        }, {
            rootMargin: '0px 0px -100px 0px' // 画面の下100pxまで来たら、姿を現し始める
        });

        // 全ての魂のパートを、神の目の監視下に置く
        const allParts = document.querySelectorAll('.emaki-part');
        allParts.forEach(part => observer.observe(part));
    </script>
</BaseLayout>