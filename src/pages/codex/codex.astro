---
import BaseLayout from '../../layouts/BaseLayout.astro';

// 八魂の定義（各ページで共通して使う）
const codexTypes = [
    { id: 'magician', name: '魔術師', icon: '🪄', color: '#9b59b6', secondaryColor: '#e0cff0', path: '/codex/magician' },
    { id: 'artisan', name: '職人', icon: '🛠️', color: '#3498db', secondaryColor: '#d6eaf8', path: '/codex/artisan' },
    { id: 'sage', name: '賢者', icon: '🧠', color: '#f1c40f', secondaryColor: '#fef9e7', path: '/codex/sage' }, 
    { id: 'innovator', name: '開拓者', icon: '🚀', color: '#e74c3c', secondaryColor: '#fadbd8', path: '/codex/innovator' },
    { id: 'empath', name: '共感者', icon: '💖', color: '#2ecc71', secondaryColor: '#d5f5e3', path: '/codex/empath' },
    { id: 'alchemist', name: '錬金術師', icon: '🧪', color: '#e67e22', secondaryColor: '#fdebd0', path: '/codex/alchemist' },
    { id: 'guardian', name: '守護者', icon: '🛡️', color: '#1abc9c', secondaryColor: '#d1f2eb', path: '/codex/guardian' },
    { id: 'mediator', name: '調停者', icon: '⚖️', color: '#5dade2', secondaryColor: '#d6eaf8', path: '/codex/mediator' },
];

// このページ固有のアクセントカラー（例：金色）
const primaryColor = '#ffcc66'; 
const secondaryColor = '#fff0cc';
---
<BaseLayout title="序章：魂の羅針盤">

    <Fragment slot="head">
        <style define:vars={{ primaryColor, secondaryColor, codexTypes }}>
            .codex-container {
                max-width: 800px;
                margin: 0 auto;
                padding: 4rem 1rem 6rem 1rem;
            }
            /* --- 序章タイトル --- */
            .codex-main-title-container { text-align: center; margin-bottom: 3rem; }
            .codex-main-icon { font-size: 3rem; display: block; margin-bottom: 1rem; color: var(--codex-primary-color); text-shadow: 0 0 15px var(--codex-primary-color); }
            .codex-main-title { font-size: 2.5rem; font-weight: 900; color: var(--codex-secondary-color); margin-bottom: 0.5rem; letter-spacing: 0.05em; }
            .codex-main-subtitle { font-size: 1rem; color: var(--color-text-sub); margin: 0; }

            /* --- タブ風ナビゲーション --- */
            .codex-tabs-nav {
                display: flex; flex-wrap: wrap; justify-content: center;
                gap: 0.5rem; margin-bottom: 4rem; padding-bottom: 1.5rem; /* ナビゲーションの下に余白 */
                border-bottom: 1px solid var(--color-border);
            }
            .codex-tab-link {
                display: flex; align-items: center; padding: 0.75rem 1.25rem;
                border: 1px solid var(--color-border); border-radius: 8px;
                background-color: transparent; color: var(--color-text-sub);
                text-decoration: none; transition: all 0.3s ease;
                font-weight: 600; opacity: 0.7;
            }
            .codex-tab-link:hover { opacity: 1; background-color: rgba(255, 255, 255, 0.05); }
            .codex-tab-icon { font-size: 1.2rem; margin-right: 0.5rem; line-height: 1; }
            /* このページでは is-active は使わない（個別の法典ページで使う） */

             /* --- 法典内容のスタイル (個別の法典ページと共通化可能) --- */
            .codex-section { margin-bottom: 4rem; }
            .codex-section h3 { /* セクションタイトル */
                font-size: 1.6rem; font-weight: 700; 
                color: var(--codex-secondary-color); /* 序章のテーマカラー */
                margin-top: 3rem; margin-bottom: 1.5rem; position: relative; padding-left: 1.2em;
            }
            .codex-section h3::before { /* アイコン */
                content: '🧭'; /* 羅針盤アイコン */
                position: absolute; left: 0; top: 2px; 
                color: var(--codex-primary-color); opacity: 0.9;
            }
            .codex-section p { /* 本文 */
                font-size: 1.1rem; line-height: 1.9; color: var(--color-text-sub); margin-bottom: 1.5rem;
            }
            .codex-section p strong, .codex-section p b { /* 強調 */
                color: var(--codex-secondary-color); font-weight: 700;
            }
            .codex-section ul { list-style: none; padding-left: 0; margin: 1.5rem 0; } /* リスト */
            .codex-section li { margin-bottom: 0.75rem; padding-left: 1.5rem; position: relative; color: var(--color-text-sub); }
            .codex-section li::before {
                content: '•'; position: absolute; left: 0; 
                color: var(--codex-primary-color); font-weight: bold;
            }
            .codex-section li strong { color: var(--color-text-main); }
            .codex-blockquote { /* 引用 */
                background-color: var(--codex-primary-color)1A; 
                border-left: 4px solid var(--codex-primary-color);
                margin: 2.5rem 0; padding: 1.5rem 2rem; font-style: normal;
            }
            .codex-blockquote p { font-size: 1.1rem; color: var(--color-text-main); line-height: 1.7; margin-bottom: 1rem; }
            .codex-blockquote p:last-child { margin-bottom: 0; }
            .codex-highlight { /* 強調ハイライト */
                color: var(--codex-primary-color); 
                font-size: 1.3rem; font-weight: 700; text-align: center; 
                padding: 2.5rem 0; line-height: 1.7; margin: 2rem 0; 
                border-top: 1px dashed var(--color-border); 
                border-bottom: 1px dashed var(--color-border);
            }
            .codex-btn { /* ボタン */
                display: inline-block;
                background-color: var(--codex-primary-color);
                color: var(--color-bg);
                padding: 0.8rem 1.8rem;
                border-radius: 8px;
                text-decoration: none;
                font-weight: 700;
                transition: all 0.3s ease;
                margin-top: 1rem;
                border: 1px solid var(--codex-primary-color);
            }
            .codex-btn:hover {
                background-color: transparent;
                color: var(--codex-primary-color);
            }
             hr.codex-divider { /* 区切り線 */
                 border: 0; height: 1px; 
                 background-image: linear-gradient(to right, transparent, var(--codex-primary-color)80, transparent);
                 margin: 4rem 0;
            }
            .fade-in { opacity: 0; transform: translateY(20px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; }
            .fade-in.is-visible { opacity: 1; transform: translateY(0); }
            .fade-in.delay-1 { transition-delay: 0.1s; }
            .fade-in.delay-2 { transition-delay: 0.2s; }
            
            @media print { /* 印刷スタイル */
                 .codex-tabs-nav, .codex-btn { display: none; }
                 .codex-container { max-width: none; padding: 1in; margin: 0; }
                 h1, h2, h3, p, li, blockquote { color: #000; border-color: #000; }
                 .codex-blockquote { background-color: #f4f4f4; border-left: 4px solid #333; }
                 hr.codex-divider { display: none; }
                 .fade-in { opacity: 1; transform: none; }
            }
        </style>
    </Fragment>

    <div class="codex-container" style={`--codex-primary-color: ${primaryColor}; --codex-secondary-color: ${secondaryColor};`}>

        <div class="codex-main-title-container fade-in">
            <span class="codex-main-icon">🧭</span>
            <h1 class="codex-main-title">序章：『魂の羅針盤』</h1>
            <p class="codex-main-subtitle">— なぜ、AIの時代に「あなたの魂」を知る必要があるのか？ —</p>
        </div>

        <nav class="codex-tabs-nav fade-in delay-1">
            {codexTypes.map(type => (
                <a 
                    href={type.path} 
                    class="codex-tab-link" 
                    data-type={type.id}
                >
                    <span class="codex-tab-icon">{type.icon}</span>
                    <span>{type.name}</span>
                </a>
            ))}
        </nav>

        <section class="codex-section fade-in delay-2">
             <p>ようこそ。<br>この『オラクル別AI調律』のぺージへ。</p>
             <p>私達は今、AIを手に入れました。</p>
             <p>そして、このA1-First Tuning Kit（あるいはAI・オラクル）を通じて、「過去の学び」を「未来の資産」に変える、その「第一歩」を踏み出されたはずです。</p>
             <p>また、これまで、すでにAIについて学んできた方も多いでしょう。</p>
             <p>しかし、同時にこうも感じているのではありませんか？</p>

             <div class="codex-blockquote">
                <p>「AIがすごいのは分かった。でも、まだ『何かが』足りない…」</p>
                <p>「なぜ、AIというすごいツールがありながら、まだ『投資回収』への確信が持てないんだ…？」</p>
                <p>「このAIという力を、結局『私』は、どう使えばいいんだ…？」</p>
             </div>

             <p>その感覚は、絶対に正しい。<br>そして、その「答え」こそが、この『オラクル別AI調律』に記されています。</p>
        </section>

        <hr class="codex-divider fade-in">

        <section class="codex-section fade-in">
            <h3>オラクルとは何か？</h3>
            <p>これは、巷に溢れる「占いや性格診断」ではありません。私は、そんな曖昧なもので、あなたの人生を定義しようとは微塵も思いません。</p>

            <div class="codex-highlight">
                この『オラクル』は、<br>
                あなたがAIと共に、あなたのやりたいことを実現していくための、<br>
                <strong>『取り扱い説明書』</strong>であり、あなた専用の<strong>『戦略地図』</strong>です。
            </div>

            <p>想像してみてください。<br>あなたは今、F1マシン（＝AI）を手に入れました。</p>

            <div class="codex-blockquote">
                <p>しかし、あなたが「雨の日のコーナリング」で輝く生粋のドライバーなのか、<br>
                それとも「乾いた路面での直線スピード」に特化したドライバーなのか、<br>
                自分自身で理解していなかったらどうなるでしょう？</p>
                <p>あなたは、そのF1マシンの性能を、10%も引き出すことなく、コースアウトして「遭難」するのです。</p>
            </div>

            <p>あなたが「ビジネス」というレースに勝てない、大きな理由。それは、あなたが「自分自身」というドライバーの「特性」と「弱点」を、完璧に理解していないからです。</p>
            <p>もちろん、占いや診断がダメというわけでも、否定するつもりも全くありません。私は、科学的にしっかりと研究された、人の脳の仕組みを元に、あなたに合ったAIの調律法を伝えたいだけです。</p>
        </section>

         <hr class="codex-divider fade-in">

         <section class="codex-section fade-in">
            <h3>なぜ「自分のタイプ」を知ることが、これほど有益なのか？</h3>
            <p>この法典は、あなたの魂を「8つのタイプ」に分類し、その「光」と「影」を白日の下に晒します。</p>

            <h4>1. あなたの「光」＝『三種の神器』の覚醒</h4>
            <p>あなたの中には、個性とも言える強みや特徴があります。それは、あなたの魂のタイプだけが得意とする、<strong>『三種の神器』</strong>の「素材」だったのです。</p>
            <ul>
                <li>なぜ、あなたは「論理」や「体系化」に、あれほど惹かれたのか？（賢者）</li>
                <li>なぜ、あなたは「人の心」や「物語」を学ぶことに、あれほど時間を使ったのか？（共感者・魔術師）</li>
                <li>なぜ、あなたは「完璧な品質」に、あれほど異常なまでにこだわってしまうのか？（職人）</li>
            </ul>
             <div class="codex-blockquote">
                 <p>この法典は、あなたが無意識に集めてきた「過去の学び（＝点）」が、あなたの「魂のタイプ（＝線）」によって繋がり、一つの「最強の武器（＝資産）」であったことを証明します。</p>
             </div>

            <h4>2. あなたの「影」＝『三重の呪縛』の特定</h4>
            <p>これこそが、あなたが最も知りたかった「答え」かもしれません。</p>
            <div class="codex-blockquote">
                <p>「頭ではわかっているのに、なぜか行動できない…」</p>
                <p>「完璧な準備ができるまで、怖くて世に出せない…」</p>
                <p>「人のことばかり優先して、自分のことが後回しになる…」</p>
             </div>
            <p>その「行動を妨害する『見えない敵』」の正体こそが、あなたの魂に、生まれつき刻まれた<strong>『三重の呪縛』</strong>です。</p>
            <p>あなたは、これまで「敵の正体」を知らずに、暗闇の中で戦い続けてきました。だから疲弊し、消耗し、「私には才能がないんだ」と諦めかけていたこともあるかもしれません。</p>
             <div class="codex-blockquote">
                 <p>この法典は、あなたが「なぜ、いつも『あと一歩』で止まってしまうのか」の「本当の敵」の名前と、その「対処法」を、容赦無くあなたに突きつけます。</p>
             </div>
             <p>ですが、安心してください。自分の弱点を知れば、当然ながら、明確な解決策も生まれるのです。</p>
             <p>臭いものに蓋をすれば、その中身はいずれ腐ります。そうではなく、解放してしまうのです。AIにそれを見せることは、人に見せるよりもよほど心理的に楽でしょう？</p>
             <p>あなたは実感していないかもしれませんが、自分の弱点を直視するのは怖いものです。しかし、それがわからなければ、前に進む速度は絶望的に遅くなるのです。今こそ、チャンスです。</p>
        </section>

        <hr class="codex-divider fade-in">

        <section class="codex-section fade-in">
             <h3>なぜ「タイプ別AI調律」が、最強の戦略なのか？</h3>
            <p>「AIを使いこなせないかもしれない…」その恐怖は、あなたの『呪縛』が引き起こしています。</p>
            <p>世の中のAI活用術は「万人向け」のマニュアルです。</p>
            <div class="codex-blockquote">
                <p>しかし、『賢者』のあなたが、『共感者』のマニュアルを使っても、AIはただの「おしゃべり相手」にしかなりません。</p>
                <p>『開拓者』のあなたが、『守護者』のマニュアルを使っても、AIはあなたの「ブレーキ」にしかならないのです。</p>
            </div>

            <p>この『法典』に記された<strong>『AI調律の儀式（プロトコル）』</strong>は、違います。これは、AIを「あなた専用の最強パートナー」へと「調律（チューニング）」する儀式の一つです。</p>
            <ul>
                <li><strong>『賢者』</strong>は、AIを「論理の穴を探す、最強の弟子」に調律します。</li>
                <li><strong>『共感者』</strong>は、AIを「地道な作業を代行する、感情なき最強の秘書」に調律します。</li>
                <li><strong>『開拓者』</strong>は、AIを「見切り発車の遭難を防ぐ、最強の参謀」に調律します。</li>
                <li><strong>『職人』</strong>は、AIを「『売る』という俗事を代行する、最強の弟子」に調律します。</li>
                <li>（他のタイプも同様）</li>
            </ul>

            <div class="codex-highlight">
                あなたの『呪縛』をAIに代行させ、<br>
                あなたの『神器』をAIで増幅させる。<br><br>
                これこそが、あなたが「AIに『使われる』」のではなく、<br>
                「AIを『使いこなし』ていくための、<br>
                ベストの戦略の一つなのです。
            </div>
        </section>

         <hr class="codex-divider fade-in">

        <section class="codex-section fade-in">
            <h3>さあ、あなたの「法典」の扉を開けなさい。</h3>
            <p>あなたの診断結果（オラクル）である『法典』の扉が、今、あなたの目の前にだけ開かれています。</p>
            
            <div style="text-align: center; margin: 2rem 0;">
                <p>※自分のオラクルをまだ把握していない方は、下記の質問に回答くださいね。</p>
                <a href="https://ai-verve.net/magn/" target="_blank" rel="noopener noreferrer" class="codex-btn">『叡智の調律師』アーキタイプ診断</a>
            </div>

            <p>そこには、あなたがずっと知りたかった「答え」と、もしかしたら、ずっと目をそらしてきた「知りたくなかった真実（＝呪い）」が書かれているはずです。</p>
            <p>そして、あなたはその『法典』を読み進めるうちに、すぐに気づくことになるでしょう。</p>

            <div class="codex-blockquote">
                <p>あなたの『法典』の最後には、『最高の相棒』と『最大の試練』となる、<strong>他の『魂』の名前</strong>が記されていることに。</p>
                <p>そして、あなたの『力』は、それ単体では<strong>「未完成」</strong>であるという事実に。</p>
             </div>

            <p>まずは、知ることから始めましょう。<br>AIという最強の武器を手に入れた、あなたの「本当の姿」を。</p>
        </section>

        <hr class="codex-divider fade-in"> { /* 区切り線を追加 */ }

        <section class="codex-section fade-in">
            <h3 style="border: none; justify-content: center; margin-bottom: 1.5rem;">あなたの法典へ進む</h3>
             {/* 上部と同じタブ風ナビゲーションを再利用 */}
            <nav class="codex-tabs-nav" style="border: none; padding-bottom: 0;">
                {codexTypes.map(type => (
                    <a 
                        href={type.path} 
                        class="codex-tab-link" 
                        data-type={type.id}
                    >
                        <span class="codex-tab-icon">{type.icon}</span>
                        <span>{type.name}</span>
                    </a>
                ))}
            </nav>
        </section>
        </div> { /* .codex-container の終了タグ */ }
    </div>

    <script is:inline>
        document.addEventListener('DOMContentLoaded', () => {
            // --- フェードイン ---
            const targets = document.querySelectorAll('.fade-in');
            const observer = new IntersectionObserver((entries, obs) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) { 
                        entry.target.classList.add('is-visible');
                        obs.unobserve(entry.target); 
                    }
                });
            }, { rootMargin: '0px 0px -100px 0px', threshold: 0 });
            targets.forEach(target => { observer.observe(target); });

            // このページにはコピーボタンはないので、コピー関連のJSは不要
        });
    </script>

</BaseLayout>