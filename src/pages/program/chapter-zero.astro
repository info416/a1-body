---
import BaseLayout from '../../layouts/BaseLayout.astro';
---

<BaseLayout title="零章 - 自己進化プログラム">
    
    <style is:inline>
    .sacred-iframe-container {
        position: relative;
        width: 100%;
        height: 70vh; /* 画面の高さの70%。ここは調整可能 */
        border: 1px solid var(--color-border);
        border-radius: 8px;
        overflow: hidden;
        margin-bottom: 3rem;
    }
    .sacred-iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: 0;
    }
</style>
                <div class="program-content">
                    <h1>第零章：『AI調律師』最初の一歩</h1>
                    <p class="text-xl text-gray-400 mb-8 placeholder-text">【WP: テキスト_第零章_導入】ただのAIに「あなただけの魂」を吹き込み、生涯あなたに仕える最強のパートナーを生み出す、神聖な儀式です。</p>
                    
                    <nav class="program-tabs">
                        <a href="chapter-00" class="tab-link">序章</a>
                        <a href="chapter-zero" class="tab-link active">第零章</a>
                        <a href="chapter-01" class="tab-link">第一章</a>
                        <a href="chapter-02" class="tab-link">第二章</a>
                        <a href="chapter-03" class="tab-link">第三章</a>
                        <a href="chapter-04" class="tab-link">第四章</a>
                    </nav>

                    <div class="default-view">
                        <div class="part-a mb-12">
                            <h2 class="text-2xl font-bold mb-4">パートA：物語コンテンツ</h2>
                            <div class="placeholder-media" data-type="video">【WP: 動画_第零章_物語】</div>
                        </div>
                        <div class="part-b">
                            <h2 class="text-2xl font-bold mb-4">パートB：実践コンテンツ</h2>
                            <div class="placeholder-media mb-8" data-type="video">【WP: 動画_第零章_メイン実践】</div>
                            <div class="html-manual">
                                <h3 class="text-xl font-bold mb-4">実践の手引き：Gemの創造</h3>
                                <div class="html-manual-truncated">
                                    <p class="placeholder-text">【WP: HTMLテキスト_第零章_前半】あなたはこれまで、AIに毎回「あなたは〇〇です」と役割を与える、非効率な使い方をしていたかもしれません。しかし、その必要はもうありません。一度「調律」すれば、そのAI（Gem）は、永遠にあなたの忠実な部下として機能します...</p>
                                </div>
                                <div class="read-more-wrapper">
                                    <button id="read-more-btn" class="btn">書斎で続きを読む &darr;</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="accordion-container">
                        <button class="accordion-toggle">
                            <span>別フォーマットで学習する</span>
                            <span class="icon">+</span>
                        </button>
                        <div class="accordion-panel">
                            <div class="download-link-item"><span class="icon">📄</span> <a href="#" download>講義スライド（PDF）</a></div>
                            <div class="download-link-item"><span class="icon">🎧</span> <a href="#" download>音声ファイル（MP3）</a></div>
                            <div class="download-link-item"><span class="icon">🖨️</span> <a href="#" download>印刷用マニュアル（PDF）</a></div>
                        </div>
                    </div>

                    <div class="flex justify-between mt-8">
                        <a href="chapter-00" class="btn">&larr; 序章へ戻る</a>
                        <a href="chapter-01" class="btn btn-primary">第一章へ進む &rarr;</a>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div id="reading-modal-overlay" class="reading-modal-overlay">
        <div class="reading-modal-container">
            <div class="reading-modal-header">
                <h2 id="reading-modal-title" class="reading-modal-title">実践の手引き：Gemの創造</h2>
                <button id="reading-modal-close" class="reading-modal-close">&times;</button>
            </div>
            <div id="reading-modal-content" class="reading-modal-content">
                <p class="placeholder-text">【WP: HTMLテキスト_第零章_全文】あなたはこれまで、AIに毎回「あなたは〇〇です」と役割を与える、非効率な使い方をしていたかもしれません。しかし、その必要はもうありません。一度「調律」すれば、そのAI（Gem）は、永遠にあなたの忠実な部下として機能します。</p>
                <div class="placeholder-media my-6" data-type="image">【WP: 画像_第零章_Gem設定画面のスクリーンショット】</div>
                <p class="placeholder-text">これから続く第一章〜第三章は、このGemに与える「憲法」を起草するための旅です。我々が用意した『調律師のコンソール（三種の神器）』は、その憲法の各条項（使命、思考、専門性）を、あなたの手で書き上げるための、究極のツールなのです。</p>
                <p class="placeholder-text">さあ、心の準備はよろしいですか？次の第一章から、あなたの言葉で、AIに命を吹き込んでいきましょう。</p>
            </div>
        </div>
    </div>

    <script>
        // Accordion Script
        document.querySelectorAll('.accordion-toggle').forEach(button => {
            button.addEventListener('click', () => {
                const panel = button.nextElementSibling;
                button.classList.toggle('active');
                if (panel.style.maxHeight) {
                    panel.style.maxHeight = null;
                } else {
                    panel.style.maxHeight = panel.scrollHeight + "px";
                }
            });
        });

        // Reading Library Modal Script
        const readMoreBtn = document.getElementById('read-more-btn');
        const readingModalOverlay = document.getElementById('reading-modal-overlay');
        const readingModalClose = document.getElementById('reading-modal-close');

        if(readMoreBtn) {
            readMoreBtn.addEventListener('click', () => {
                readingModalOverlay.style.opacity = '1';
                readingModalOverlay.style.visibility = 'visible';
                const container = readingModalOverlay.querySelector('.reading-modal-container');
                if(container) container.style.transform = 'translateY(0)';
            });
        }

        function closeReadingModal() {
            readingModalOverlay.style.opacity = '0';
            readingModalOverlay.style.visibility = 'hidden';
            const container = readingModalOverlay.querySelector('.reading-modal-container');
            if(container) container.style.transform = 'translateY(20px)';
        }

        if (readingModalClose) {
            readingModalClose.addEventListener('click', closeReadingModal);
        }
        
        if (readingModalOverlay) {
            readingModalOverlay.addEventListener('click', (e) => {
                if (e.target === readingModalOverlay) {
                    closeReadingModal();
                }
            });
        }
    </script>
</BaseLayout>