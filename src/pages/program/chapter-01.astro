---
import BaseLayout from '../../layouts/BaseLayout.astro';
---

<BaseLayout title="ç¬¬ä¸€ç«  - è‡ªå·±é€²åŒ–ãƒ—ãƒ­ã‚°ãƒ©ãƒ ">
    <div class="program-content">
        <h1>ç¬¬ä¸€ç« ï¼šé­‚ã®èª¿å¾‹</h1>
        <p class="text-xl text-gray-400 mb-8 placeholder-text">ã€WP: ãƒ†ã‚­ã‚¹ãƒˆ_ç¬¬ä¸€ç« _å°å…¥ã€‘ã‚ãªãŸã®ãƒ“ã‚¸ãƒã‚¹ã®ã€Œé­‚ã€ã‚’è¨€èªåŒ–ã—ã€AIã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å„€å¼ã‚’åŸ·ã‚Šè¡Œã†ã€‚</p>
        
        <nav class="program-tabs">
            <a href="chapter-00" class="tab-link">åºç« </a>
            <a href="chapter-zero" class="tab-link">ç¬¬é›¶ç« </a>
            <a href="chapter-01" class="tab-link active">ç¬¬ä¸€ç« </a>
            <a href="chapter-02" class="tab-link">ç¬¬äºŒç« </a>
            <a href="chapter-03" class="tab-link">ç¬¬ä¸‰ç« </a>
            <a href="chapter-04" class="tab-link">ç¬¬å››ç« </a>
        </nav>
        
        <div class="default-view">
            
            <div class="part-b">
                <h2 class="text-2xl font-bold mb-4">ç¬¬ä¸€ç« ã‚³ãƒ³ãƒ†ãƒ³ãƒ„</h2>

                <div class="html-manual">
                    <h3 class="text-xl font-bold mb-4">ãƒ‘ãƒ¼ãƒˆAï¼šç‰©èªã‚³ãƒ³ãƒ†ãƒ³ãƒ„</h3>
                    <div class="html-manual-truncated" data-content-key="part_a_full">
                        <p class="placeholder-text">ã€WP: HTMLãƒ†ã‚­ã‚¹ãƒˆ_ç¬¬ä¸€ç« _å‰åŠã€‘ãƒ‘ãƒ¼ãƒˆAã®çŸ­ã„èª¬æ˜...</p>
                    </div>
                    <div class="read-more-wrapper">
                        <button class="read-more-btn btn" data-target-key="part_a_full" data-title="ãƒ‘ãƒ¼ãƒˆAï¼šç‰©èªã‚³ãƒ³ãƒ†ãƒ³ãƒ„">æ›¸æ–ã§ç¶šãã‚’èª­ã‚€ &darr;</button>
                    </div>

                    <h3 class="text-xl font-bold mb-4">ãƒ‘ãƒ¼ãƒˆBï¼šçŸ¥è­˜ã‚³ãƒ³ãƒ†ãƒ³ãƒ„</h3>
                    <div class="html-manual-truncated" data-content-key="part_b_full">
                        <p class="placeholder-text">ã€WP: HTMLãƒ†ã‚­ã‚¹ãƒˆ_ç¬¬ä¸€ç« _å‰åŠã€‘ãƒ‘ãƒ¼ãƒˆBã®çŸ­ã„èª¬æ˜...</p>
                    </div>
                    <div class="read-more-wrapper">
                        <button class="read-more-btn btn" data-target-key="part_b_full" data-title="ãƒ‘ãƒ¼ãƒˆBï¼šçŸ¥è­˜ã‚³ãƒ³ãƒ†ãƒ³ãƒ„">æ›¸æ–ã§ç¶šãã‚’èª­ã‚€ &darr;</button>
                    </div>

                    <h3 class="text-xl font-bold mb-4">ãƒ‘ãƒ¼ãƒˆCï¼šå®Ÿè·µã®æ‰‹å¼•ããƒ»ä½¿å‘½ã®è¨€èªåŒ–</h3>
                    <div class="html-manual-truncated" data-content-key="part_c_full">
                        <p class="placeholder-text">ã€WP: HTMLãƒ†ã‚­ã‚¹ãƒˆ_ç¬¬ä¸€ç« _å‰åŠã€‘ãƒ‘ãƒ¼ãƒˆCã®çŸ­ã„èª¬æ˜...</p>
                    </div>
                    <div class="read-more-wrapper">
                        <button class="read-more-btn btn" data-target-key="part_c_full" data-title="ãƒ‘ãƒ¼ãƒˆCï¼šå®Ÿè·µã®æ‰‹å¼•ã">æ›¸æ–ã§ç¶šãã‚’èª­ã‚€ &darr;</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="accordion-container">
            <button class="accordion-toggle">
                <span>åˆ¥ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§å­¦ç¿’ã™ã‚‹</span>
                <span class="icon">+</span>
            </button>
            <div class="accordion-panel">
                <div class="download-link-item">
                    <span class="icon">ğŸ“„</span> <a href="#" download>è¬›ç¾©ã‚¹ãƒ©ã‚¤ãƒ‰ï¼ˆPDFï¼‰</a>
                </div>
                <div class="download-link-item">
                    <span class="icon">ğŸ§</span> <a href="#" download>éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆMP3ï¼‰</a>
                </div>
                <div class="download-link-item">
                    <span class="icon">ğŸ–¨ï¸</span> <a href="#" download>å°åˆ·ç”¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ï¼ˆPDFï¼‰</a>
                </div>
            </div>
        </div>

        <div class="flex justify-between mt-8">
            <a href="chapter-zero" class="btn">&larr; ç¬¬é›¶ç« ã¸æˆ»ã‚‹</a>
            <a href="chapter-02" class="btn btn-primary">ç¬¬äºŒç« ã¸é€²ã‚€ &rarr;</a>
        </div>
    </div>

    <div id="reading-modal-overlay" class="reading-modal-overlay">
        <div class="reading-modal-container">
            <div class="reading-modal-header">
                <h2 id="reading-modal-title" class="reading-modal-title"></h2>
                <button id="reading-modal-close" class="reading-modal-close">&times;</button>
            </div>
            <div id="reading-modal-content" class="reading-modal-content">
                </div>
        </div>
    </div>

    <style is:inline>
    /* ============================================================= */
    /* --- ãƒ¢ãƒ¼ãƒ€ãƒ«ç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©ã‚’è¿½åŠ  --- */
    /* ============================================================= */
    .reading-modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        visibility: hidden;
        opacity: 0;
        transition: opacity 0.3s ease, visibility 0.3s ease;
    }
    .reading-modal-container {
        background-color: #262626; /* ãƒ€ãƒ¼ã‚¯ãªèƒŒæ™¯è‰² */
        color: #E5E7EB; /* æ˜ã‚‹ã„ãƒ†ã‚­ã‚¹ãƒˆè‰² */
        padding: 2rem;
        border-radius: 8px;
        width: 90%;
        max-width: 800px;
        max-height: 80vh;
        overflow-y: auto;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        transform: translateY(20px);
        transition: transform 0.3s ease;
    }
    .reading-modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid #4B5563; /* å¢ƒç•Œç·š */
        padding-bottom: 1rem;
        margin-bottom: 1rem;
    }
    .reading-modal-title {
        font-size: 1.5rem;
        font-weight: bold;
    }
    .reading-modal-close {
        background: none;
        border: none;
        font-size: 2rem;
        color: #E5E7EB;
        cursor: pointer;
    }
    .reading-modal-content {
        line-height: 1.8;
    }
    .reading-modal-content a {
        color: #60A5FA; /* ãƒªãƒ³ã‚¯è‰² */
        text-decoration: underline;
    }
    .reading-modal-content a:hover {
        color: #93C5FD;
    }
    </style>
    <script is:inline>
    // =============================================================
    // --- ã€æœ€çµ‚ç¢ºå®šç‰ˆã€‘A1-Project Core Script ---
    // ãƒ†ãƒƒã‚¯ãƒ—ãƒªãƒ¼ã‚¹ãƒˆã«ã‚ˆã‚‹æœ€çµ‚èª¿å¾‹
    // =============================================================
    document.addEventListener('DOMContentLoaded', () => {

        // --- é­‚ã®ä¿ç®¡åº«ï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ‡ãƒ¼ã‚¿ï¼‰ ---
        const fullContents = {
            part_a_full: "ã“ã“ã«ã€ãƒ‘ãƒ¼ãƒˆAã®ã€å¡æ™ºã«æº€ã¡ãŸ**å…¨æ–‡**ãŒå…¥ã‚Šã¾ã™ã€‚<br>æ®µè½ã‚‚ã€ã“ã®ã‚ˆã†ã«åæ˜ ã•ã‚Œã¾ã™ã€‚",
            part_b_full: "ã“ã“ã«ã€ãƒ‘ãƒ¼ãƒˆBã®ã€å®Ÿè·µçš„ãª**çŸ¥è­˜ã®å…¨æ–‡**ãŒè¨˜è¿°ã•ã‚Œã¾ã™ã€‚",
            part_c_full: "ãã—ã¦ã€ã“ã“ãŒã€ãƒ‘ãƒ¼ãƒˆCã®ã€**å…·ä½“çš„ãªå®Ÿè·µã®æ‰‹å¼•ã**ã§ã™ã€‚<br><a href='/console' target='_blank' class='btn btn-primary mt-4'>ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã€Œä½¿å‘½ã€ã‚’èµ·è‰ã™ã‚‹</a>"
        };

        // --- é­‚ã®å™¨ï¼ˆDOMè¦ç´ ï¼‰ã®å¬å–š ---
        const accordionToggles = document.querySelectorAll('.accordion-toggle');
        const readMoreButtons = document.querySelectorAll('.read-more-btn');
        const readingModalOverlay = document.getElementById('reading-modal-overlay');
        const readingModalClose = document.getElementById('reading-modal-close');
        const readingModalTitle = document.getElementById('reading-modal-title');
        const readingModalContent = document.getElementById('reading-modal-content');

        // --- æ›¸æ–ï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«ï¼‰ã‚’é–‹ãå„€å¼ ---
        function openReadingModal(contentKey, title) {
            if (!readingModalOverlay) return;
            const content = fullContents[contentKey];
            if (!content) return;

            if (readingModalTitle) readingModalTitle.textContent = title;
            if (readingModalContent) readingModalContent.innerHTML = content;
            
            readingModalOverlay.style.opacity = '1';
            readingModalOverlay.style.visibility = 'visible';
            
            const container = readingModalOverlay.querySelector('.reading-modal-container');
            if (container) container.style.transform = 'translateY(0)';
        }

        // --- æ›¸æ–ï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«ï¼‰ã‚’é–‰ã˜ã‚‹å„€å¼ ---
        function closeReadingModal() {
            if (readingModalOverlay) {
                readingModalOverlay.style.opacity = '0';
                readingModalOverlay.style.visibility = 'hidden';
                const container = readingModalOverlay.querySelector('.reading-modal-container');
                if(container) container.style.transform = 'translateY(20px)';
            }
        }

        // --- è¤‡æ•°ã®ãƒœã‚¿ãƒ³ã«ã€é­‚ã‚’å®¿ã™ ---
        if (readMoreButtons.length > 0) {
            readMoreButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const contentKey = button.dataset.targetKey;
                    const title = button.dataset.title;
                    openReadingModal(contentKey, title);
                });
            });
        }

        // --- é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ã®ç¥çµŒæ¥ç¶š ---
        if (readingModalClose) {
            readingModalClose.addEventListener('click', closeReadingModal);
        }
        if (readingModalOverlay) {
            readingModalOverlay.addEventListener('click', (e) => {
                if (e.target === readingModalOverlay) {
                    closeReadingModal();
                }
            });
        }
        
        // --- ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³ã®å„€å¼ ---
        if (accordionToggles.length > 0) {
            accordionToggles.forEach(button => {
                button.addEventListener('click', () => {
                    const panel = button.nextElementSibling;
                    button.classList.toggle('active');
                    if (panel && panel.style.maxHeight) {
                        panel.style.maxHeight = null;
                    } else if (panel) {
                        panel.style.maxHeight = panel.scrollHeight + "px";
                    }
                });
            });
        }
    });
    </script>
</BaseLayout>