---
import BaseLayout from '../../layouts/BaseLayout.astro';
---

<BaseLayout title="第一章 - 自己進化プログラム">
                <div class="program-content">
                    <h1>第一章：魂の調律</h1>
                    <p class="text-xl text-gray-400 mb-8 placeholder-text">【WP: テキスト_第一章_導入】あなたのビジネスの「魂」を言語化し、AIにインストールする儀式を執り行う。</p>
                    
                    <nav class="program-tabs">
                        <a href="/chapter-00" class="tab-link">序章</a>
                        <a href="/chapter-zero" class="tab-link">第零章</a>
                        <a href="/chapter-01" class="tab-link active">第一章</a>
                        <a href="/chapter-02" class="tab-link">第二章</a>
                        <a href="/chapter-03" class="tab-link">第三章</a>
                        <a href="/chapter-04" class="tab-link">第四章</a>
                    </nav>
                    
                    <div class="default-view">
                        <div class="part-a mb-12">
                            <h2 class="text-2xl font-bold mb-4">パートA：物語コンテンツ</h2>
                            <div class="placeholder-media" data-type="video">【WP: 動画_第一章_物語】</div>
                        </div>
                        
                        <div class="part-b">
                            <h2 class="text-2xl font-bold mb-4">パートB：実践コンテンツ</h2>
                            <div class="placeholder-media mb-8" data-type="video">【WP: 動画_第一章_メイン実践】</div>
                            
                            <div class="html-manual">
                                <h3 class="text-xl font-bold mb-4">実践の手引き：使命の言語化</h3>
                                <div class="html-manual-truncated">
                                    <p class="placeholder-text">【WP: HTMLテキスト_第一章_前半】ここでは、あなたのビジネスの「Why（なぜやるのか）」を言語化するための、シンプルなフレームワークを解説します...</p>
                                </div>
                                <div class="read-more-wrapper">
                                    <button id="read-more-btn" class="btn">書斎で続きを読む &darr;</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="accordion-container">
                        <button class="accordion-toggle">
                            <span>別フォーマットで学習する</span>
                            <span class="icon">+</span>
                        </button>
                        <div class="accordion-panel">
                            <div class="download-link-item">
                                <span class="icon">📄</span> <a href="#" download>講義スライド（PDF）</a>
                            </div>
                            <div class="download-link-item">
                                <span class="icon">🎧</span> <a href="#" download>音声ファイル（MP3）</a>
                            </div>
                            <div class="download-link-item">
                                <span class="icon">🖨️</span> <a href="#" download>印刷用マニュアル（PDF）</a>
                            </div>
                        </div>
                    </div>

                    <div class="flex justify-between mt-8">
                        <a href="/chapter-zero" class="btn">&larr; 第零章へ戻る</a>
                        <a href="/chapter-02" class="btn btn-primary">第二章へ進む &rarr;</a>
                    </div>
                </div>
                </div>
        </main>
    </div>

    <div id="reading-modal-overlay" class="reading-modal-overlay">
        <div class="reading-modal-container">
            <div class="reading-modal-header">
                <h2 id="reading-modal-title" class="reading-modal-title">実践の手引き：使命の言語化</h2>
                <button id="reading-modal-close" class="reading-modal-close">&times;</button>
            </div>
            <div id="reading-modal-content" class="reading-modal-content">
                <p class="placeholder-text">【WP: HTMLテキスト_第一章_全文】ここでは、あなたのビジネスの「Why（なぜやるのか）」を言語化するための、シンプルなフレームワークを解説します。この動画で学んだ内容を元に、『調律師のコンソール』であなただけの「使命」を起草し、AIに魂を吹き込みましょう。このプロセスは、単なる言葉遊びではありません。あなたのビジネスの根幹を定め、全ての行動に一貫性をもたらす、極めて重要な儀式となります。まず、あなたの情熱の源泉、得意なこと、そして心から助けたいと願う人々について、深く掘り下げていきます... (ここに全文が続く)</p>
                <br>
                <a href="/console" target="_blank" class="btn btn-primary mt-4">コンソールで「使命」を起草する</a>
            </div>
        </div>
    </div>
    
    <script>
        // Accordion Script
        document.querySelectorAll('.accordion-toggle').forEach(button => {
            button.addEventListener('click', () => {
                const panel = button.nextElementSibling;
                button.classList.toggle('active');
                if (panel.style.maxHeight) {
                    panel.style.maxHeight = null;
                } else {
                    panel.style.maxHeight = panel.scrollHeight + "px";
                }
            });
        });

        // Reading Library Modal Script
        const readMoreBtn = document.getElementById('read-more-btn');
        const readingModalOverlay = document.getElementById('reading-modal-overlay');
        const readingModalClose = document.getElementById('reading-modal-close');

        if(readMoreBtn) {
            readMoreBtn.addEventListener('click', () => {
                readingModalOverlay.style.opacity = '1';
                readingModalOverlay.style.visibility = 'visible';
                const container = readingModalOverlay.querySelector('.reading-modal-container');
                if(container) container.style.transform = 'translateY(0)';
            });
        }

        function closeReadingModal() {
            readingModalOverlay.style.opacity = '0';
            readingModalOverlay.style.visibility = 'hidden';
            const container = readingModalOverlay.querySelector('.reading-modal-container');
            if(container) container.style.transform = 'translateY(20px)';
        }

        if (readingModalClose) {
            readingModalClose.addEventListener('click', closeReadingModal);
        }
        
        if (readingModalOverlay) {
            readingModalOverlay.addEventListener('click', (e) => {
                if (e.target === readingModalOverlay) {
                    closeReadingModal();
                }
            });
        }
    </script>
</BaseLayout>